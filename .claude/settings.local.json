{
  "permissions": {
    "allow": [
      "Bash(ls:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web Projects/ComplyEur-v2/complyeur && npm run typecheck:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web Projects/ComplyEur-v2/complyeur && npx tsc:*)",
      "Bash(lsof -ti:3000)",
      "Bash(xargs kill:*)",
      "Bash(npm run dev)",
      "Bash(npx supabase status)",
      "Bash(npx supabase db query \"SELECT table_name FROM information_schema.tables WHERE table_schema = ''public'' ORDER BY table_name;\")",
      "Bash(npx supabase db query \"SELECT column_name, data_type, is_nullable, column_default FROM information_schema.columns WHERE table_name = ''profiles'' ORDER BY ordinal_position;\")",
      "Bash(cd /Users/jameswalsh/Dev/Web\\\\ Projects/ComplyEur-v2/complyeur && npx supabase db query:*)",
      "Bash(npx supabase db query \"SELECT u.id, u.email, u.created_at as user_created, p.full_name, p.company_id, p.role, p.is_superadmin FROM auth.users u LEFT JOIN profiles p ON u.id = p.id ORDER BY u.created_at DESC;\")",
      "Bash(npx supabase db query \"SELECT table_name FROM information_schema.tables WHERE table_schema = ''public'' AND table_name IN \\(''tiers'', ''company_entitlements'', ''company_notes'', ''admin_audit_log''\\);\")",
      "Bash(PGPASSWORD=postgres psql:*)",
      "Bash(docker ps:*)",
      "Bash(docker exec:*)",
      "Bash(npm run typecheck)",
      "Bash(npx tsc --noEmit)",
      "Bash(npm install:*)",
      "Bash(npx playwright install)",
      "Bash(npm cache clean:*)",
      "Bash(pnpm:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web\\\\ Projects/ComplyEur-v2/complyeur:*)",
      "Bash(curl:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web\\\\ Projects/ComplyEur-v2/complyeur && npx next dev:*)",
      "Bash(npx tsc:*)",
      "Bash(supabase db push:*)",
      "Bash(supabase migration:*)",
      "Bash(supabase db execute:*)",
      "Bash(supabase inspect:*)",
      "Bash(find:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web Projects/ComplyEur-v2/complyeur && npm run build:*)",
      "Bash(cd:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web Projects/ComplyEur-v2/complyeur && grep:*)",
      "Bash(npm run lint)",
      "Bash(else echo \"❌ $file.tsx missing\")",
      "Bash(fi)",
      "Bash(done)",
      "Bash(grep:*)",
      "Bash(npm run)",
      "Bash(cd /Users/jameswalsh/Dev/Web\\\\ Projects/ComplyEur-v2/complyeur && npx supabase db push:*)",
      "Bash(pkill:*)",
      "Bash(npm test -- __tests__/unit/validations/employee-validation.test.ts)",
      "Bash(cd /Users/jameswalsh/Dev/Web Projects/ComplyEur-v2/complyeur && npm run lint:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web Projects/ComplyEur-v2/complyeur && npx vitest run:*)",
      "Bash(cd /Users/jameswalsh/Dev/Web\\\\ Projects/ComplyEur-v2/complyeur && npx vitest run:*)",
      "Bash(npx supabase:*)",
      "Bash(npm test -- --run __tests__/unit/import/country-codes.test.ts)",
      "Bash(npm test -- --run __tests__/unit/import/)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat\\(import\\): add column mapping, duplicate handling, and import polish\n\nPhase 3 - Column Mapping:\n- Add ColumnMappingUI component for manual column mapping\n- Add multi-language country code support \\(EN, FR, DE, ES\\)\n- Add header alias detection for common column names\n- Add saved column mappings feature with settings page\n- Add column_mappings table migration\n\nPhase 4 - Import Polish:\n- Add partial import with clear \"Import X Valid Rows\" UI\n- Add error CSV download with Row/Field/Value/Message columns\n- Add import history page at /settings/import-history\n- Add duplicate handling: skip or update for employees \\(by email\\)\n- Add trip duplicate detection \\(by employee + dates\\)\n- Add progress indicator for large imports \\(>50 rows\\)\n\nAlso includes:\n- Sample test data \\(45 employees, 102 trips\\)\n- Unit tests for country codes, header aliases, mapping\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push)",
      "Bash(npx eslint:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: add force-dynamic to pages and improve URL detection\n\n- Add `export const dynamic = ''force-dynamic''` to all dashboard and admin pages to prevent stale data caching\n- Refactor getBaseUrl\\(\\) to prioritize VERCEL_URL in production environments\n- Add isLocalHost\\(\\) helper to prevent localhost redirects in production\n- Update .gitignore to exclude db diagnostics and local Claude settings\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: add force-dynamic to pages and improve URL detection\n\n- Add force-dynamic to all dashboard and admin pages\n- Refactor getBaseUrl\\(\\) to prioritize VERCEL_URL in production\n- Add isLocalHost\\(\\) helper to prevent localhost redirects\n- Update .gitignore to exclude db diagnostics and local settings\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: add password change functionality to security settings\n\n- Add security actions for password update with validation\n- Create security settings component with password change form\n- Add separator UI component\n- Update settings page and component exports\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\ndocs: add architecture, environment, and security documentation\n\n- Add architecture docs \\(environments, migrations, production safety\\)\n- Add UI heuristic review documentation\n- Add security audit gap analysis\n- Add e2e performance test configuration\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nsecurity: add tenant isolation and defense-in-depth checks\n\n- Add explicit company_id validation to import session queries\n- Update initial schema migration\n- Add tenant isolation security migration\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: add tenant isolation and defense-in-depth checks\n\n- Add explicit company_id validation to import session queries\n- Update initial schema migration\n- Add tenant isolation security migration\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git reset:*)",
      "Bash(git commit:*)",
      "Bash(CRON_SECRET=test_secret timeout 10 npm run dev)",
      "Bash(CRON_SECRET=test_secret npm run build)",
      "Bash(npm run lint -- --quiet lib/rate-limit.ts)",
      "Bash(chmod:*)",
      "Bash(vercel --version:*)",
      "Bash(npm run build:*)",
      "Bash(vercel whoami:*)",
      "Bash(vercel login)",
      "Bash(vercel:*)",
      "Bash(git pull origin main --no-rebase)",
      "Bash(git stash pop)",
      "Bash(git push origin main)",
      "Bash(git stash drop)",
      "Bash(git restore:*)",
      "Bash(npm run lint -- --quiet)",
      "Bash(cat:*)",
      "Bash(code --install-extension:*)",
      "Bash(source .env.local)",
      "Bash(wc:*)",
      "Bash(npm run test:coverage)",
      "Bash(npx playwright test --list)",
      "Bash(cd /Users/jameswalsh/Dev/Web\\\\ Projects/ComplyEur-v2/complyeur && npm run test:*)",
      "Bash(npm run test -- lib/compliance/__tests__/cached.test.ts lib/compliance/__tests__/compliance-vector.test.ts --reporter=verbose)",
      "Bash(npm run test -- lib/compliance/__tests__/cached.test.ts lib/compliance/__tests__/compliance-vector.test.ts)",
      "Bash(npm run test -- lib/compliance/__tests__/risk-calculator.test.ts --reporter=verbose)",
      "Bash(npm run test -- lib/compliance/__tests__/safe-entry.test.ts --reporter=verbose)",
      "Bash(npm run test:coverage -- --reporter=verbose)",
      "Bash(npm run test -- __tests__/integration/import-pipeline.test.ts)",
      "Bash(npm run test -- __tests__/integration/import-insertion.test.ts)",
      "Bash(npx vitest run __tests__/integration/import-api.test.ts)",
      "Bash(npx vitest:*)",
      "Bash(npx playwright test --list e2e/import-workflow.spec.ts e2e/dashboard-verification.spec.ts)",
      "Bash(npm run test:e2e:import -- --reporter=list)",
      "Bash(npm run test:e2e:dashboard -- --reporter=list)",
      "Bash(npx tsx scripts/create-test-user.ts)",
      "Bash(NEXT_PUBLIC_SUPABASE_URL=https://ympwgavzlvyklkucskcj.supabase.co SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltcHdnYXZ6bHZ5a2xrdWNza2NqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2ODUxMTMwNSwiZXhwIjoyMDg0MDg3MzA1fQ.hs-unhYdFdSXFznqewAe_TNLUymlN3jaUKlHVrmA3DA npx tsx:*)",
      "Bash(xargs:*)",
      "Bash(for pkg in \"react-dropzone\" \"react-day-picker\" \"class-variance-authority\")",
      "Bash(do echo \"=== $pkg ===\")",
      "Bash(npm run lint -- app/actions/exports.ts)",
      "Bash(git pull origin main)",
      "Bash(npx skills:*)",
      "Bash(head:*)",
      "Bash(git check-ignore:*)",
      "Bash(pip3 install:*)",
      "Bash(brew install:*)",
      "Bash(if [ -f .env.local ])",
      "Bash(then echo \"✓ .env.local exists\")",
      "Bash(else echo \"✗ .env.local not found\")",
      "Bash(k6 run:*)",
      "Bash(SUPABASE_URL=\"https://ympwgavzlvyklkucskcj.supabase.co\" SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltcHdnYXZ6bHZ5a2xrdWNza2NqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MTEzMDUsImV4cCI6MjA4NDA4NzMwNX0.dpAqkOa3VnLK7hSTeMV-t4WCazaUOfG4a5ahShZmXcA\" k6 run:*)",
      "Bash(npm run test:unit:*)",
      "Bash(squirrel audit:*)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebFetch(domain:validator.schema.org)",
      "WebFetch(domain:schema.org)",
      "Bash(ComplyEUR\" suffix via title.template.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
